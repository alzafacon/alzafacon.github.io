<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Technical Journal RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Technical Journal Atom Feed"><title data-react-helmet="true">DigiLog: Digital Zoom for a Single Hand Analog Timepiece | Technical Journal</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://fidelcoria.com/blog/2021/12/05/DigiLog"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="DigiLog: Digital Zoom for a Single Hand Analog Timepiece | Technical Journal"><meta data-react-helmet="true" name="description" content="Clocks and watches originally had a single hand so the minutes were hard to read. Thus the minute hand was introduced."><meta data-react-helmet="true" property="og:description" content="Clocks and watches originally had a single hand so the minutes were hard to read. Thus the minute hand was introduced."><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-12-05T00:00:00.000Z"><link data-react-helmet="true" rel="icon" href="https://emojicdn.elk.sh/ðŸš®"><link data-react-helmet="true" rel="canonical" href="https://fidelcoria.com/blog/2021/12/05/DigiLog"><link data-react-helmet="true" rel="alternate" href="https://fidelcoria.com/blog/2021/12/05/DigiLog" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://fidelcoria.com/blog/2021/12/05/DigiLog" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4c313ced.css">
<link rel="preload" href="/assets/js/runtime~main.dc4402c9.js" as="script">
<link rel="preload" href="/assets/js/main.7bc3f5fa.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alzafacon" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸ˜´</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸ˜Ž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2022/01/02/K8S-print-secrets">K8s: How to print Opaque Secrets</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2021/12/16/Lego_Useless_Machine">Useless Machine with LEGO Technic</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2021/12/06/GitHub_Pages">Custom Apex Domain for GitHub Pages</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/2021/12/05/DigiLog">DigiLog: Digital Zoom for a Single Hand Analog Timepiece</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">DigiLog: Digital Zoom for a Single Hand Analog Timepiece</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-12-05T00:00:00.000Z" itemprop="datePublished">December 5, 2021</time> Â· <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>Clocks and watches originally had a single hand so the minutes were hard to read. Thus the minute hand was introduced.</p><p>Another way to read the minutes with a single hand is by zooming into the section of the clock where the hour hand points to the time. For example, at 6:30 the tick marks will show the hour hand to be half way between 6 and 7. While at 7:05 you can zoom in to see the tick marks showing 5 minutes past 7.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="the-math">The Math<a class="hash-link" href="#the-math" title="Direct link to heading">â€‹</a></h2><table><thead><tr><th></th><th>Definitions</th></tr></thead><tbody><tr><td>Viewport</td><td>circular window of fixed size</td></tr><tr><td><code>D</code></td><td>viewport diameter</td></tr><tr><td><code>R</code></td><td>viewport radius</td></tr><tr><td>Clock face</td><td>the numbers, tick markings, and the hour hand together</td></tr><tr><td><code>r</code></td><td>distance between viewport center and midpoint of chord to be zoomed (chord offset)</td></tr><tr><td><code>tau</code></td><td>time &quot;angle&quot; in radians of hour hand from polar axis (3 o&#x27;clock)</td></tr><tr><td><code>a</code></td><td>length of the chord</td></tr><tr><td><code>S</code></td><td>scale factor</td></tr></tbody></table><img alt="chord diagram" class="fix-img-fuzziness" src="data:image/gif;base64,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"><blockquote><p>SOURCE: Weisstein, Eric W. &quot;Chord.&quot; From MathWorld--A Wolfram Web Resource. <a href="https://mathworld.wolfram.com/Chord.html" target="_blank" rel="noopener noreferrer">https://mathworld.wolfram.com/Chord.html</a></p></blockquote><p>Zooming the clock face is simply done by enlarging a circular segment centered where the hour hand is pointing. In the image above the time would be 1:30.</p><p>I take the chord and enlarge it to be congruent with the view port diameter. So to scale the chord from <code>a</code> to <code>D</code> the whole clock face must be scaled by <code>D/a</code> (i.e. <code>a(D/a) = D</code>). </p><p>The chord is determined when the user chooses <code>r</code>. We need an expression for the value of <code>a</code> given <code>r</code>.</p><p>Easy! Pythagorean theorem: </p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">R^2 = r^2 + (a/2)^2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a/2 = sqrt(R^2 - r^2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> a  = 2sqrt(R^2 - r^2)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>So now we have the scale factor:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">S = D/a </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = 2R / (2sqrt(R^2 - r^2))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = R / sqrt(R^2 - r^2)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Next we need to slide the midpoint of the chord onto the center of the viewport.</p><p>It might help to think of the midpoint in polar coordinates as (<code>Sr</code>, <code>tau</code>). Yes, I scaled by S. With a simple change of coordinates we have:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">dx = Sr cos(tau)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dy = Sr sin(tau)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="course-and-fine-adjustment-of-r">Course and Fine adjustment of r<a class="hash-link" href="#course-and-fine-adjustment-of-r" title="Direct link to heading">â€‹</a></h2><p>Using a slider to change <code>r</code> linearly is a bad user experience. At low zoom the clock face moves very little and at high zoom the clock face moves too much. If you graph the scale function It is easy to see why this happens. <code>S(r)</code> grows quickly and is also concave up.</p><p>It would be better for the value of r to change more quickly at low zoom (course adjustment) and more slowly at high zoom (fine adjustment).</p><p>This can be done by letting the user input a zoom value rather than let them input <code>r</code> directly. Now we can map the zoom value any way we want with a function <code>f(z) = r</code>.</p><p>I would like to take <code>z</code> to be in <code>[0,1]</code> and <code>f(1) = p</code>, where <code>0 &lt; p &lt; 1</code> and <code>pR</code> is the max chord-offset allowed. <code>f</code> should be monotonically increasing, concave down, with an inflection point somewhere around 0.1, and preferably asymptotic to <code>1</code>. Notice <code>f</code> will be multiplied by <code>R</code> to give the final chord offset.</p><p>A good candidate function is <code>1 - 1/(z + 1)</code>.</p><p>So I&#x27;ll start applying transformations to get the desired properties.</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">f(1) = p = 1 - 1/(kz + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... algebra ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">k = p / (1-p)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f(z) = 1 - 1/(pz/(1-p) + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ... algebra ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = 1 - (1-p)/(pz + 1 - p)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ... algebra ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = pz / (pz + 1 - p)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Finally to get the actual chord offset we take <code>Rf(z)</code>. </p><p>That&#x27;s all folks!</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/12/06/GitHub_Pages"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« <!-- -->Custom Apex Domain for GitHub Pages</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-math" class="table-of-contents__link toc-highlight">The Math</a></li><li><a href="#course-and-fine-adjustment-of-r" class="table-of-contents__link toc-highlight">Course and Fine adjustment of r</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/alzafacon" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/fidelcoria" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.dc4402c9.js"></script>
<script src="/assets/js/main.7bc3f5fa.js"></script>
</body>
</html>